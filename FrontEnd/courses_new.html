<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IT Course Viewer</title>
    <link href="./styles_new.css" rel="stylesheet" type="text/css" title="default">
    <link href="./styles_new_light.css" rel="alternate stylesheet" type="text/css" title="alternate">
    <script type="text/javascript" src="./styleSwitcher.js"></script>
    <style>
        @media screen and (min-width: 1021px) {

        }

        @media screen and (max-width: 1020px) {
            #login2 {
                margin-top: 292px;
                right: -5px;
                position: absolute;
                width: 100%;
            }

            #periodFirst {
                width: 418%;
            }

            #periodSecond {
                margin-top: 512px;
                left: 0;
                right: 10%;
                position: absolute;
                width: 418%;
            }

            #periodThird {
                margin-top: 964px;
                left: 0;
                right: -5px;
                position: absolute;
                width: 418%;
            }

            #periodFourth {
                margin-top: 1412px;
                left: 0;
                right: 100%;
                position: absolute;
                width: 418%;
            }

            img {
                width: 20%;
                height: 20%;
            }

            h1 {
                margin-right: 110px;
            }

            #myBtn, #myBtnCopy {
                width: 18%;
            }

            .myBtn2 {
                width: 18%;
            }

            .myBtn3 {
                width: 18%;
            }

            #myBtn6 {
                top: 92px;
                right: 365px;
                width: 20%;
            }

            .modal-content {
                margin: 18.5% 4.3% auto;
                width: 68%;
            }
        }

        @media screen and (max-width: 1020px) {
            #login1, #login2 {
                width: 100%;
            }
        }
    </style>
</head>

<body>
<div class="container">
    <header>
        <h1>IT Course Viewer</h1>
    </header>
    <main>
        <section id="login-registration">
            <h3 id="login1">Log in</h3>
            <h3 id="login2">Register</h3>

            <button onclick="topFunction()" id="myBtnCopy" class="fadeIn" title="Scroll back to top of page">Scroll to
                top
            </button>

            <button class="myBtn2" onclick="setActiveStyleSheet('default'); return false;"
                    title="Enable dark mode if you're cool">Dark mode
            </button>
            <button class="myBtn3" onclick="setActiveStyleSheet('alternate'); return false;"
                    title="Enable light mode to blind yourself">Light mode
            </button>

            <div id="log">
                <form id="login-form" class="light-border">
                    <div>
                        <label>Email:</label>
                        <input class="light-border" type="text" name="username"/>
                    </div>
                    <div>
                        <label>Password:</label>
                        <input class="light-border" type="password" name="password"/>
                    </div>
                    <div>
                        <button href="courses_new.html" id="myBtn4" type="submit">Log in</button>
                    </div>
                </form>
            </div>

            <div id="reg">
                <form id="registration-form" class="light-border">
                    <div>
                        <label>Email:</label>
                        <input class="light-border" type="text" name="username"/>
                    </div>
                    <div>
                        <label>Password:</label>
                        <input class="light-border" type="password" name="password"/>
                    </div>
                    <div>
                        <button href="courses_new.html" id="myBtn5" type="submit">Register</button>
                    </div>
                </form>
            </div>
        </section>

        <section id="actual_content">
            <section>
                <button onclick="topFunction()" id="myBtn" class="fadeIn" title="Scroll back to top of page">Scroll to
                    top
                </button>
                <button class="myBtn2" onclick="setActiveStyleSheet('default'); return false;">Dark mode</button>
                <button class="myBtn3" onclick="setActiveStyleSheet('alternate'); return false;">Light mode</button>
            </section>

            <section id="periodFirst">
                <h3 id="course1">Älykkäät IoT-laitteet</h3>
                <div id="content1">
                </div>
            </section>

            <section id="periodSecond">
                <h3 id="course2">Mobiilit terveyssovellukset</h3>
                <div id="content2">
                </div>
            </section>

            <section id="periodThird">
                <h3 id="course3">Pelikehitys</h3>
                <div id="content3">
                </div>
            </section>

            <section id="periodFourth">
                <h4 id="course4">Web-tekniikat ja digitaalinen media</h4>
                <div id="content4">
                </div>
            </section>
        </section>
    </main>
</div>

<button id="myBtn6" onclick="document.getElementById('id01').style.display='block'">Log in</button>

<div id="id01" class="modal">

    <form class="modal-content animate" action="/action_page.php">

        <div class="container">
            <label for="uname"><b>Username</b></label>
            <input class="modalForm" type="text" placeholder="Enter username" name="uname" required>

            <label for="psw"><b>Password</b></label>
            <input class="modalForm" type="password" placeholder="Enter password" name="psw" required>

            <button class="modalBtn" type="submit">Log in</button>

            <button class="modalBtn" type="button" onclick="document.getElementById('id01').style.display=
                    'none'">Cancel
            </button>
        </div>
    </form>
</div>

<script>

    // Get the modal
    var modal = document.getElementById('id01');

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function (event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }

    const seppo1 = document.getElementById('content1');
    const seppo2 = document.getElementById('content2');
    const seppo3 = document.getElementById('content3');
    const seppo4 = document.getElementById('content4');

    const mybutton = document.getElementById("myBtn");

    // When the user scrolls down 20px from the top of the document, show the button
    window.onscroll = function () {
        scrollFunction()
    };

    function scrollFunction() {
        if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            mybutton.style.display = "block";
        } else {
            mybutton.style.display = "none";
        }
    }

    // When the user clicks on the button, scroll to the top of the document
    function topFunction() {
        document.body.scrollTop = 0; // For Safari
        document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
    }

    const funktio = (children) => {

        for (let i = 0; i < 24; i++) {

            const child = children[i];

            if (`${child.opinto_id}` == 1) {

                let s1 = `
        <section id="courseBox">
            <div>
                <div>
                <input type="checkbox" id="toggle${i}" checked>
                <label for="toggle${i}" title="Show course contents">${child.course_name}</label>
            <div class="content">
                <p>Opettaja: ${child.teacher_name}</p>
                <p><img src="thumbnails/${child.teacher_photo}" height=200 alt="Course teacher"></p>
            <p>${child.course_info}</p>
            </div>
        </section>
            `;

                seppo1.innerHTML += s1;

                Object.keys(child).forEach(function (k) {
                    console.log(k);
                    console.log(child);

                    let x = document.createElement('h1');
                    x.value = "Foo";

                    x.appendChild(document.createTextNode(child[k]));

                })
            }
        }

        for (var i = 0; i < 24; i++) {

            var child = children[i];

            if (`${child.opinto_id}` == 2) {

                let s2 = `
        <section id="courseBox">
            <div>
                <div>
                <input type="checkbox" id="toggle${i}" checked>
                <label for="toggle${i}" title="Show course contents">${child.course_name}</label>
            <div class="content">
                <p>Opettaja: ${child.teacher_name}</p>
                <p><img src="thumbnails/${child.teacher_photo}" height=200 alt="Course teacher"></p>
            <p>${child.course_info}</p>
            </div>
        </section>
            `;

                seppo2.innerHTML += s2;

                Object.keys(child).forEach(function (k) {
                    console.log(k);
                    console.log(child);

                    let x = document.createElement('h1');
                    x.value = "Foo";

                    x.appendChild(document.createTextNode(child[k]));

                })
            }
        }

        for (var i = 0; i < 24; i++) {

            var child = children[i];

            if (`${child.opinto_id}` == 3) {

                let s3 = `
        <section id="courseBox">
            <div>
                <div>
                <input type="checkbox" id="toggle${i}" checked>
                <label for="toggle${i}" title="Show course contents">${child.course_name}</label>
            <div class="content">
                <p>Opettaja: ${child.teacher_name}</p>
                <p><img src="thumbnails/${child.teacher_photo}" height=200 alt="Course teacher"></p>
            <p>${child.course_info}</p>
            </div>
        </section>
            `;

                seppo3.innerHTML += s3;

                Object.keys(child).forEach(function (k) {
                    console.log(k);
                    console.log(child);

                    let x = document.createElement('h1');
                    x.value = "Foo";

                    x.appendChild(document.createTextNode(child[k]));

                })
            }
        }

        for (var i = 0; i < 24; i++) {

            var child = children[i];

            if (`${child.opinto_id}` == 4) {

                let s4 = `
        <section id="courseBox">
            <div>
                <div>
                <input type="checkbox" id="toggle${i}" checked>
                <label for="toggle${i}" title="Show course contents">${child.course_name}</label>
            <div class="content">
                <p>Opettaja: ${child.teacher_name}</p>
                <p><img src="thumbnails/${child.teacher_photo}" height=200 alt="Course teacher"></p>
            <p>${child.course_info}</p>
            </div>
        </section>
            `;

                seppo4.innerHTML += s4;

                Object.keys(child).forEach(function (k) {
                    console.log(k);
                    console.log(child);

                    let x = document.createElement('h1');
                    x.value = "Foo";

                    x.appendChild(document.createTextNode(child[k]));

                })
            }
        }

    }

    const haeTiedot = async () => {
        const vastaus = await fetch('http://localhost:3000/period');
        const tiedot = await vastaus.json();
        funktio(tiedot)
    }

    haeTiedot()

</script>

</body>
</html>